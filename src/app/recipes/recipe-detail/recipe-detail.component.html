<div class="section section-padding single-post-1"
    style="background-image: url('../../assets/images/bg-bg-login.jpg');">
    <div class="container">
        <div class="row">
            <div class="col-md-10" style="display: flex; justify-content: center;">
                <article class="post-single">
                    <div class="post-thumbnail">
                        <img src="../../../assets/images/{{recipeDetail.image}}.jpg">
                    </div>
                    <div class="post-categories col-md-12">
                        <div class="column" style="display: flex; justify-content: space-between;">

                            <div class="title" style="font-size: 24px;">
                                {{recipeDetail.name}}
                            </div>
                            <div>
                                <button type="button" class="btn btn-danger" (click)="deleteRecipe()" [appUserTypeEnabled]="[2]">Delete
                                    Recipe
                                </button>
                            </div>
                        </div>
                        <div class="post-meta">
                            <span>
                                <i class="fas fa-concierge-bell" style="color: #85b72c;">
                                </i>{{recipeDetail.totalSteps}} Step(s)
                            </span>
                            <span>
                            </span>
                            <span class="recipe-duration">
                                <i class="fas fa-stopwatch" style="color: #85b72c;">
                                </i>{{recipeDetail.totalMintues}} min
                            </span>
                        </div>
                        <div class="post-content">
                            <div>
                                <div class="recipe-ingredients">
                                    <div style="font-size: 24px; margin-bottom: 10px;">Ingredients</div>
                                    <br>
                                    <i class="fa-solid fa-circle-check" style="color: #85b72c;"> </i>
                                    {{recipeDetail.ingredientsTypes}}
                                    <br>
                                    <br>
                                    <i class="fa-solid fa-circle-check" style="color: #85b72c;"> </i>
                                    2 cups flour (125 g)
                                </div>
                                <div class="recipe-instructions" style="margin-bottom: 20px;">
                                    <div style="font-size: 24px; margin-bottom: 10px;">Instructions</div>
                                    <br>
                                    <i class="fa-solid fa-circle-check" style="color: #85b72c;"> </i>
                                    {{recipeDetail.steps}}
                                    <br>
                                </div>
                            </div>
                            <div class="col">
                                <div style="font-size: 24px; margin-bottom: 10px;">Comments</div>
                                
                                <!-- <div class="comments-list" *ngFor="let item of recipesCommentList$|async"> -->
                                    <div class="comments-list" *ngFor="let item of commentsByRecipeId">
                                    <div class="comment-item col-md-12">
                                        <div class="comment-body row">
                                            <div class="col-sm-2">
                                                <img style="width: 75px;
                                            margin-right: 20px;
                                            border-radius: 8px;" src="../../../assets/images/avatar.png">
                                            </div>
                                            <div class="col-sm">
                                                <div style="display: flex; justify-content: space-between;">
                                                    <div>
                                                        <h5>Customer</h5>
                                                    </div>
                                                    <div>
                                                        <div>

                                                            <div style="display: inline-block; margin-top: 10px;"
                                                                *ngFor='let in of counter(item.rating) ;let i = index'>
                                                                <i class="fa fa-star fa-lg" style="color: #85b72c;"></i>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <li>{{item.text_Comment}}</li>
                                                <div>


                                                    <div class="pozicija" style="display: flex; justify-content: flex-end;
                                   margin-top: 10px"><i class="far fa-calendar" style="margin-right: 5px;
    padding: 2px;"></i> Posted on <i style="margin-left: 5px;"><b> {{item.dateCreated | date:'longDate'}}</b></i></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="comment-form" style="margin-top: 15px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                                    <div style="font-size: 24px; margin-bottom: 10px;">Leave a reply</div>
                                    <div>
                                        <button mat-icon-button color="accent" *ngFor="let r of ratingArr; index as i"
                                            (click)="onClick(i)">
                                            <mat-icon>
                                                {{returnStar(i)}}
                                            </mat-icon>
                                        </button>
                                    </div>
                                </div>
                                <form method="post">
                                    <div class="row">
                                        <div class="col-md-12 form-group">
                                            <textarea type="text" placeholder="Type your comment.." name="comment"
                                                rows="7" class="form-control" [(ngModel)]="model.text_comment">
                                            </textarea>
                                        </div>
                                    </div>
                                    <button (click)="addComment()" type="button" name="button"
                                        class="btn-custom primary">POST COMMENT</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </article>
            </div>
        </div>
    </div>
</div>